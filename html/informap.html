<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>Staff Information Explorer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.15.5/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="../css/informap.css">
    <link rel="shortcut icon" href="../img/favicon.ico">
</head>

<body>
    <!--    <script src="js/staff_detail_tbl.js"></script>-->


    <div id="infoPanel" class="infoPanel">
        <h3><strong id="infoPanelTitle">Staff Information Explorer</strong></h3>
        <h5 id="staffselnum"><strong>Staff Selected:</strong></h5>

        <table class="table table-sm" id="staffListTbl" data-toggle="table" data-height="180">
            <thead class="thead-dark">
                <tr>
                    <th data-field="casedate" data-width="10" data-width-unit="%" data-sortable="true">Date</th>
                    <th data-field="caseid" data-width="10" data-width-unit="%" data-sortable="true">Case #</th>
                    <th data-field="id" data-width="10" data-width-unit="%" data-sortable="true">Staff #</th>
                    <th data-field="name" data-width="30" data-width-unit="%" data-sortable="true">Name</th>
                    <th data-field="risktype" data-width="30" data-width-unit="%" data-sortable="true">Case Type</th>
                    <th data-field="revokeReason" data-width="30" data-width-unit="%" data-sortable="true">Revoke Reason</th>
                    <th data-field="vp" data-width="30" data-width-unit="%" data-sortable="true">VP</th>
                </tr>
            </thead>
        </table>
        <div class='row'>
            <div class='m-auto'>
                <h6 id="notPlot" style='font-style:italic; margin-top: .5em'></h6>
                <button id="showAll" class="btn btn-info" onclick="showAll()">Show All</button>
            </div>
        </div>
        <div id="detailInfo">
            <h3 class="text-center"><strong id="nameTitle"></strong><span id="revokeMarker" class="small">Access Revoked</span></h3>
            <div style="float:left; width: 50%; margin-bottom: .6em;">
                <h5 class="text-center"><strong>Personal Information</strong></h5>
                <table class="table table-sm" id="basicInfo" data-toggle="table" data-show-header="false" data-height="260">
                    <thead>
                        <tr>
                            <th data-field="item" data-width="40" data-width-unit="%" data-sortable="true">item</th>
                            <th data-field="value" data-width="60" data-width-unit="%" data-sortable="true">value</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div style="float:right; width: 50%; margin-bottom: .6em;">
                <h5 class="text-center"><strong>Risk Assessment</strong></h5>
                <table class="table table-sm" id="riskAssess" data-toggle="table" data-show-header="false" data-height="260">
                    <thead>
                        <tr>
                            <th data-field="item" data-width="70" data-width-unit="%" data-sortable="true">item</th>
                            <th data-field="value" data-width="30" data-width-unit="%" data-sortable="true">value</th>
                        </tr>
                    </thead>
                </table>

            </div>



            <div class="row">
                <button type="button" class="btn btn-primary btn-lg m-auto" data-toggle="modal" data-target="#modalTable">
                    Show Travel History
                </button>
            </div>


        </div>
    </div>
    <div id="GDMap"></div>

    <!--    My investigation center: Non-Respondent-->
    <div id="Non-Respondent" class="input-area">
        <h3 class="text-center"><strong>Investigation Result Submission</strong></h3>
        <h4 class="text-center case-title">Case#: CA00023, Non-Respondent, Tomas Wang, 05FEB2020</h4>
        <label class="self-report">Self Report: No fever</label>
        <div class="container">
            <form>
                <div class="form-group">
                    <label for="nonRespResult">*Investigation Result</label>
                    <select id="nonRespResult" class="form-control result-sel" name="result">
                        <option value=null style="display: none"></option>
                        <option value=2>Self-declared: No Risk</option>
                        <option value=4>Fail to Contact</option>
                        <option value=6>Resigned</option>
                        <option value=1>Suspicious NCP, by hospital or local authorities</option>
                        <option value=3>Confirmed NCP, by hospital or local authorities</option>
                        <option value=5>Close Contact, by hospital or local authorities</option>
                        <option value=8>Self-Quarantine, by bank or local authorities</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nonRespNotes" class="notes">Notes</label>
                    <textarea id="nonRespNotes" name="submitternotes" class="form-control note-field" rows="3" placeholder="Mandatory field if any risk is identified, please provide more details, such as health issue description, close contacted person profile (name,contact date & location), hospital name, diagnosis date & result, etc."></textarea>
                </div>

                <div>
                    <button type="submit" class="btn btn-green" disabled="disabled">Submit for No Revoke</button>
                    <button type="submit" class="btn btn-red" disabled="disabled">Submit for Revoke</button>
                    <label class="text-center investigator"></label>
                </div>

            </form>
        </div>
    </div>



    <div id="modalTable" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="historyTitle" class="modal-title">Travel History Tracking</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table id="history" data-toggle="table" data-height="280">
                        <thead class="thead-dark">
                            <tr>
                                <th data-field="date" data-width="5" data-width-unit="%">Date</th>
                                <th data-field="joinSurvey" data-width="5" data-width-unit="%">Join Survey</th>
                                <th data-field="workStatus" data-width="10" data-width-unit="%">Work Status</th>
                                <th data-field="riskType" data-width="5" data-width-unit="%">Risk Type</th>
                                <th data-field="location" data-width="20" data-width-unit="%">Location</th>
                                <th data-field="numOfRiskAddr500m" data-width="5" data-width-unit="%"># of risky spots within 500m</th>
                                <th data-field="listOfRiskAddr500m" data-width="10" data-width-unit="%">List of risky spots within 500m</th>
                                <th data-field="closestRiskAddr" data-width="10" data-width-unit="%">Closest risky spot</th>
                                <th data-field="distClosestRiskAddr" data-width="10" data-width-unit="%">Distance</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!--
    <div class="modal fade" id="loadingModal">
    <div style="width: 200px;height:20px; z-index: 20000; position: absolute; text-align: center; left: 50%; top: 50%;margin-left:-100px;margin-top:-10px">
        <div class="progress progress-striped active" style="margin-bottom: 0;">
            <div class="progress-bar" style="width: 100%;"></div>
        </div>
        <h5>Loading Data...</h5>
    </div>
    </div>
-->

    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.4.1/dist/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=F32Ab4e4mzf39XQ"></script>
    <script src="https://cache.amap.com/lbs/static/es5.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.15.5/dist/bootstrap-table.min.js"></script>

    <script type="text/javascript" src="../js/informap.js"></script>

</body></html>
